(this["webpackJsonppayoneer-reactjs"]=this["webpackJsonppayoneer-reactjs"]||[]).push([[0],{71:function(n,t,e){},72:function(n,t,e){"use strict";e.r(t);var r,a,i,o,c,d,l,s,u,b,h,j,p,f,x,g,v,O,m=e(0),w=e.n(m),C=e(19),y=e.n(C),k=e(7),D=e(9),_=e(15),F=e.n(_),L=e(21),E=e(10),M=e(36),S=e.n(M),z=function(){var n=Object(L.a)(F.a.mark((function n(t){var e;return F.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,S.a.get(t);case 3:return e=n.sent,n.abrupt("return",e.data);case 7:throw n.prev=7,n.t0=n.catch(0),n.t0;case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(t){return n.apply(this,arguments)}}(),T=function(n,t){return null===n||void 0===n?void 0:n.map((function(n){var e,r,a,i;return{temperature:null===n||void 0===n||null===(e=n.main)||void 0===e?void 0:e.temp,dt_txt:null===n||void 0===n?void 0:n.dt_txt,time:null===n||void 0===n?void 0:n.dt_txt.split(" ")[1],dt:null===n||void 0===n?void 0:n.dt,icon:null===n||void 0===n||null===(r=n.weather[0])||void 0===r?void 0:r.icon,description:null===n||void 0===n||null===(a=n.weather[0])||void 0===a?void 0:a.description,main:null===n||void 0===n||null===(i=n.weather[0])||void 0===i?void 0:i.main,units:t}}))},B=Object(E.b)("GET_WEATHERS",function(){var n=Object(L.a)(F.a.mark((function n(t){var e,r,a,i,o,c,d,l,s,u,b,h;return F.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=(null===t||void 0===t?void 0:t.units)?t.units:"metric",c=(null===t||void 0===t||null===(e=t.coord)||void 0===e?void 0:e.long)?null===t||void 0===t||null===(r=t.coord)||void 0===r?void 0:r.long:11.576124,d=(null===t||void 0===t||null===(a=t.coord)||void 0===a?void 0:a.lat)?null===t||void 0===t||null===(i=t.coord)||void 0===i?void 0:i.lat:48.137154,n.next=5,z("".concat("https://api.openweathermap.org/data/2.5","/forecast?APPID=").concat("57d9127ea88a9dbbdaf35a286fb7ed49","&cnt=40&units=").concat(o,"&lon=").concat(c,"&lat=").concat(d));case 5:return l=n.sent,s=l.list,u=l.city,b=T(s,o),h=b,n.abrupt("return",{weathers:h,city:u});case 11:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()),P=e(11),Y=e(12),W=e.n(Y),A=e(37),N=e.n(A),I=function(n,t){var e=t;return W.a.filter(n,(function(n){return J(null===n||void 0===n?void 0:n.dt_txt)===J(e)}))},R=function(n){return W.a.uniqBy(W.a.map(n,(function(n){return Object(P.a)(Object(P.a)({},n),{},{date:J(null===n||void 0===n?void 0:n.dt_txt)})})),"date")},H=function(n){return N()(n).format("D MMM YYYY")},J=function(n){return n.split(" ")[0]},q=Object(E.c)({name:"weather",initialState:{loading:!1,weathers:[],weatherLength:0,error:null,barChartData:[],city:null},reducers:{setWeatherToBarChartsData:function(n,t){var e=t.payload,r=e.weather,a=e.weathers;n.barChartData=I(a,null===r||void 0===r?void 0:r.dt_txt)}},extraReducers:function(n){n.addCase(B.pending,(function(n){n.loading=!0})).addCase(B.fulfilled,(function(n,t){var e,r=t.payload,a=r.weathers,i=r.city;n.loading=!1,n.weathers=a,n.city=i,n.weatherLength=R(a).length,n.barChartData=I(a,null===(e=a[0])||void 0===e?void 0:e.dt_txt)})).addCase(B.rejected,(function(n){n.loading=!1,n.error="something went wrong"}))}}),G=q.reducer,V=q.actions.setWeatherToBarChartsData,Z=function(n){return n.weather},K=e(2),Q=e(3),U=Q.a.div(r||(r=Object(K.a)(["\n  display: flex;\n  justify-content: center;\n  width: 100%;\n\n  label {\n    color: white;\n  }\n\n  @media (max-width: 768px) {\n    justify-content: space-between;\n  }\n"]))),X=Q.a.div(a||(a=Object(K.a)(["\n  padding: 0 10px;\n  &.input_group {\n    margin-right: 15px;\n  }\n"]))),$=Q.a.div(i||(i=Object(K.a)(["\n  border-top: 2px solid #ffffff;\n  border-left: 2px solid #ffffff;\n  width: 20px;\n  height: 20px;\n  transform: translateY(-50%) rotate(-45deg);\n  position: absolute;\n  left: -30px;\n  top: 50%;\n  cursor: pointer;\n\n  @media (max-width: 768px) {\n    left: 10px;\n    top: -50%;\n    z-index: 4;\n    width: 16px;\n    height: 16px;\n  }\n"]))),nn=Q.a.div(o||(o=Object(K.a)(["\n  border-top: 2px solid #ffffff;\n  border-right: 2px solid #ffffff;\n  width: 20px;\n  height: 20px;\n  transform: translateY(-50%) rotate(45deg);\n  position: absolute;\n  right: -30px;\n  top: 50%;\n  cursor: pointer;\n\n  @media (max-width: 768px) {\n    right: 10px;\n    top: -50%;\n    z-index: 4;\n    width: 16px;\n    height: 16px;\n  }\n"]))),tn=Q.a.div(c||(c=Object(K.a)(["\n  background-color: white;\n  border: none;\n  border-radius: 4px;\n  padding: 5px 15px;\n  cursor: pointer;\n\n  @media (max-width: 768px) {\n    margin-top: 20px;\n  }\n"]))),en=e(1),rn=function(n){var t=n.label,e=n.onClick,r=n.className;return Object(en.jsx)(tn,{onClick:e,className:r,"data-testid":"refreshBtn",children:t})},an=function(n){var t=n.onChange,e=n.units,r="metric"===e,a="imperial"===e;return Object(en.jsxs)(U,{children:[Object(en.jsxs)(X,{className:"input_group",children:[Object(en.jsx)("input",{type:"radio",name:"degree",id:"c",onChange:t,value:"metric",checked:r}),Object(en.jsx)("label",{htmlFor:"c",children:"Celcius"})]}),Object(en.jsxs)(X,{children:[Object(en.jsx)("input",{type:"radio",name:"degree",id:"f",onChange:t,value:"imperial",checked:a}),Object(en.jsx)("label",{htmlFor:"f",children:"Fahrenheit"})]})]})},on=Q.a.div(d||(d=Object(K.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 10px 5px;\n  width: 100%;\n\n  @media (max-width: 768px) {\n    flex-direction: column;\n\n    &.btn {\n      margin-top: 10px;\n    }\n  }\n"]))),cn=function(n){var t=n.refreshData,e=n.onChange,r=n.units;return Object(en.jsxs)(on,{children:[Object(en.jsx)("div",{}),Object(en.jsx)(an,{onChange:e,units:r}),Object(en.jsx)(rn,{label:"Refresh",onClick:t,className:"btn"})]})},dn=Object(Q.b)(l||(l=Object(K.a)(["\n  0% {\n    transform: rotate(0deg);\n  }\n\n  100% {\n    transform: rotate(360deg);\n  }\n"]))),ln=Q.a.div(s||(s=Object(K.a)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: rgba(0, 0, 0, 0.95);\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  color: white;\n  z-index: 2;\n\n  p {\n    font-style: italic;\n    font-size: 14px;\n    font-weight: bold;\n  }\n"]))),sn=Q.a.div(u||(u=Object(K.a)(["\n  border: 16px solid #e3e3e3;\n  border-top: 16px solid violet;\n  border-radius: 50%;\n  width: 100px;\n  height: 100px;\n  animation: "," 1s linear infinite;\n"])),dn),un=function(){return Object(en.jsxs)(ln,{children:[Object(en.jsx)(sn,{}),Object(en.jsx)("p",{children:"Loading, Please wait..."})]})},bn=function(n){var t=n.onClick,e=n.disabled;n.isMobile;return Object(en.jsx)(en.Fragment,{children:e?null:Object(en.jsx)(nn,{onClick:t})})},hn=function(n){var t=n.onClick,e=n.disabled;n.isMobile;return Object(en.jsx)(en.Fragment,{children:e?null:Object(en.jsx)($,{onClick:t})})},jn=Q.a.div(b||(b=Object(K.a)(["\n  display: grid;\n  grid-template-columns: ",";\n  gap: 5px;\n  justify-content: center;\n  position: relative;\n  margin-top: 30px;\n  margin-bottom: 40px;\n"])),(function(n){return n.isMobile?"1fr":"1fr 1fr 1fr"})),pn=Q.a.div(h||(h=Object(K.a)(["\n  padding: 10px 20px;\n  margin: 0 5px;\n  background-color: violet;\n  color: white;\n  border-radius: 4px;\n  box-shadow: 0px 2px 6px rgba(0, 0, 0, 0.15);\n  cursor: pointer;\n"]))),fn=Q.a.div(j||(j=Object(K.a)(["\n  text-align: center;\n  font-size: 18px;\n"]))),xn=Q.a.div(p||(p=Object(K.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  width: 100%;\n\n  p {\n    font-size: 13px;\n  }\n"]))),gn=Q.a.div(f||(f=Object(K.a)([""]))),vn=function(n){var t=n.weather,e=n.onClick,r="http://openweathermap.org/img/wn/".concat(t.icon,".png");H(t.dt_txt);var a=Object(m.useCallback)((function(){return Object(en.jsx)(en.Fragment,{children:"metric"===t.units?Object(en.jsx)("span",{children:"\u2103"}):Object(en.jsx)("span",{children:"\u2109"})})}),[t]);return Object(en.jsxs)(pn,{onClick:function(){return e(t)},"data-testid":"weatherCard",children:[Object(en.jsx)(fn,{children:"Temperature"}),Object(en.jsxs)(xn,{children:[Object(en.jsxs)("p",{children:[t.temperature," ",Object(en.jsx)(a,{})]}),Object(en.jsx)("img",{src:r,alt:"icon"})]}),Object(en.jsx)(gn,{children:H(t.dt_txt)})]})},On=Q.a.div(x||(x=Object(K.a)(["\n  text-align: center;\n  width: 100%;\n\n  p {\n    text-align: center;\n    color: white;\n  }\n"]))),mn=function(){return Object(en.jsx)(On,{"data-testid":"empty",children:Object(en.jsx)("p",{children:"Sorry there is/are no weathers forcast"})})},wn=function(n){var t,e=n.weathers,r=n.weatherLength,a=n.loading,i=Object(D.b)(),o=function(){var n=Object(m.useState)([0,0]),t=Object(k.a)(n,2),e=t[0],r=t[1],a=function(){r([document.documentElement.clientWidth,window.innerHeight])};return Object(m.useLayoutEffect)((function(){return window.addEventListener("resize",a),a(),function(){return window.removeEventListener("resize",a)}}),[]),e}(),c=Object(k.a)(o,1)[0]<768,d=Object(m.useState)(0),l=Object(k.a)(d,2),s=l[0],u=l[1],b=c?1:3,h=e.length<=0||s+b===r,j=!s,p=function(n){i(V({weather:n,weathers:e}))};return Object(en.jsxs)(en.Fragment,{children:[a&&Object(en.jsx)(un,{}),Object(en.jsxs)(jn,{isMobile:c||e.length<=0,children:[Object(en.jsx)(hn,{onClick:function(){return u((function(n){return n-1}))},disabled:j,isMobile:c,"data-testid":"prev"}),e.length<=0?Object(en.jsx)(mn,{}):!a&&(null===(t=R(e))||void 0===t?void 0:t.slice(s,s+b).map((function(n){return Object(en.jsx)(vn,{weather:n,onClick:p},null===n||void 0===n?void 0:n.dt)}))),Object(en.jsx)(bn,{onClick:function(){return u((function(n){return n+1}))},disabled:h,isMobile:c,"data-testid":"next"})]})]})},Cn=e(42),yn=function(n){var t=n.weathers,e=n.barChartData,r=function(n){return{data:W.a.map(n,(function(n){return n.temperature})),label:W.a.map(n,(function(n){return n.time}))}}(e),a={labels:t.length>0?r.label:[],datasets:[{label:"# of Votes",data:t.length>0?r.data:[],backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(153, 102, 255, 0.2)","rgba(255, 159, 64, 0.2)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)"],borderWidth:1}]};return Object(en.jsx)(Cn.a,{data:a,options:{scales:{yAxes:[{ticks:{beginAtZero:!0}}]}},"data-testid":e.length>0?"barchart":null})},kn=Q.a.div(g||(g=Object(K.a)(["\n  display: flex;\n  flex-direction: column;\n  max-width: 480px;\n  width: 100%;\n\n  @media (max-width: 768px) {\n    overflow-x: hidden;\n    padding: 0 10px;\n  }\n"]))),Dn=Q.a.div(v||(v=Object(K.a)(["\n  color: white;\n  text-align: center;\n"]))),_n=function(){var n=Object(D.b)(),t=Object(D.c)(Z),e=t.weathers,r=t.weatherLength,a=t.loading,i=t.barChartData,o=t.city,c=Object(m.useState)("metric"),d=Object(k.a)(c,2),l=d[0],s=d[1],u=Object(m.useState)(!0),b=Object(k.a)(u,2),h=b[0],j=b[1],p=function(){var n=Object(m.useState)([]),t=Object(k.a)(n,2),e=t[0],r=t[1];return Object(m.useEffect)((function(){navigator.geolocation.getCurrentPosition((function(n){r([n.coords.longitude,n.coords.latitude])}))}),[]),e}();Object(m.useEffect)((function(){p[0]&&p[1]&&(n(B({coord:{long:p[0],lat:p[1]}})),n(V({weather:e[0],weathers:e})),j(!1))}),[p[0],p[1],h]);var f=Object(m.useCallback)((function(){return Object(en.jsx)(yn,{weathers:e,barChartData:i})}),[i,e]);return Object(en.jsxs)(kn,{children:[Object(en.jsx)(cn,{refreshData:function(){n(B({units:l,coord:{long:p[0],lat:p[1]}}))},onChange:function(t){var e=t.target.value;s(e),n(B({units:e,coord:{long:p[0],lat:p[1]}}))},units:l}),Object(en.jsx)(Dn,{children:null===o||void 0===o?void 0:o.name}),Object(en.jsx)(wn,{weathers:e,weatherLength:r,loading:a||h}),Object(en.jsx)(f,{})]})},Fn=Q.a.div(O||(O=Object(K.a)(["\n  background-color: #1d3354;\n  height: 100vh;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"])));var Ln=function(){return Object(en.jsx)(Fn,{children:Object(en.jsx)(_n,{})})},En=function(n){n&&n instanceof Function&&e.e(3).then(e.bind(null,73)).then((function(t){var e=t.getCLS,r=t.getFID,a=t.getFCP,i=t.getLCP,o=t.getTTFB;e(n),r(n),a(n),i(n),o(n)}))},Mn=e(5),Sn=e(41),zn=e.n(Sn),Tn=e(8),Bn=Object(Tn.b)({weather:G}),Pn=[].concat(Object(Mn.a)(Object(E.d)()),[zn.a]),Yn=Object(E.a)({reducer:Bn,middleware:Pn});e(71);y.a.render(Object(en.jsx)(w.a.StrictMode,{children:Object(en.jsx)(D.a,{store:Yn,children:Object(en.jsx)(Ln,{})})}),document.getElementById("root")),En()}},[[72,1,2]]]);
//# sourceMappingURL=main.a558901b.chunk.js.map