(this["webpackJsonppayoneer-reactjs"]=this["webpackJsonppayoneer-reactjs"]||[]).push([[0],{71:function(t,n,e){},72:function(t,n,e){"use strict";e.r(n);var r,a,i,c,o,d,l,s,u,b,h,j,p,f,x,g,v,O,m,w,C=e(0),y=e.n(C),k=e(20),L=e.n(k),D=e(7),E=e(9),_=e(11),S=e.n(_),F=e(17),z=e(10),M=e(36),T=e.n(M),P=function(){var t=Object(F.a)(S.a.mark((function t(n){var e;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,T.a.get(n);case 3:return e=t.sent,t.abrupt("return",e.data);case 7:throw t.prev=7,t.t0=t.catch(0),t.t0;case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(n){return t.apply(this,arguments)}}(),B=11.576124,I=48.137154,A=function(t,n){return null===t||void 0===t?void 0:t.map((function(t){var e,r,a,i;return{temperature:null===t||void 0===t||null===(e=t.main)||void 0===e?void 0:e.temp,dt_txt:null===t||void 0===t?void 0:t.dt_txt,time:null===t||void 0===t?void 0:t.dt_txt.split(" ")[1],dt:null===t||void 0===t?void 0:t.dt,icon:null===t||void 0===t||null===(r=t.weather[0])||void 0===r?void 0:r.icon,description:null===t||void 0===t||null===(a=t.weather[0])||void 0===a?void 0:a.description,main:null===t||void 0===t||null===(i=t.weather[0])||void 0===i?void 0:i.main,units:n}}))},R="https://api.openweathermap.org/data/2.5",W="57d9127ea88a9dbbdaf35a286fb7ed49",Y=Object(z.b)("GET_WEATHERS",function(){var t=Object(F.a)(S.a.mark((function t(n){var e,r,a,i,c,o;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=(null===n||void 0===n?void 0:n.units)?n.units:"metric",t.next=3,P("".concat(R,"/forecast?APPID=").concat(W,"&cnt=40&units=").concat(e,"&lon=").concat(B,"&lat=").concat(I));case 3:return r=t.sent,a=r.list,i=r.city,c=A(a,e),o=c,t.abrupt("return",{weathers:o,city:i});case 9:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}()),N=Object(z.b)("CURRENT_WEATHERS",function(){var t=Object(F.a)(S.a.mark((function t(n){var e,r,a,i,c,o,d,l,s,u,b,h;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=(null===n||void 0===n?void 0:n.units)?n.units:"metric",o=(null===n||void 0===n||null===(e=n.coord)||void 0===e?void 0:e.long)?null===n||void 0===n||null===(r=n.coord)||void 0===r?void 0:r.long:B,d=(null===n||void 0===n||null===(a=n.coord)||void 0===a?void 0:a.lat)?null===n||void 0===n||null===(i=n.coord)||void 0===i?void 0:i.lat:I,t.next=5,P("".concat(R,"/forecast?APPID=").concat(W,"&cnt=40&units=").concat(c,"&lon=").concat(o,"&lat=").concat(d));case 5:return l=t.sent,s=l.list,u=l.city,b=A(s,c),h=b,t.abrupt("return",{weathers:h,city:u});case 11:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}()),H=e(12),J=e(13),q=e.n(J),G=e(37),U=e.n(G),V=function(t,n){var e=n;return q.a.filter(t,(function(t){return K(null===t||void 0===t?void 0:t.dt_txt)===K(e)}))},Z=function(t){return q.a.uniqBy(q.a.map(t,(function(t){return Object(H.a)(Object(H.a)({},t),{},{date:K(null===t||void 0===t?void 0:t.dt_txt)})})),"date")},K=function(t){return t.split(" ")[0]},Q=Object(z.c)({name:"weather",initialState:{loading:!1,weathers:[],weatherLength:0,error:null,barChartData:[],city:null},reducers:{setWeatherToBarChartsData:function(t,n){var e=n.payload,r=e.weather,a=e.weathers;t.barChartData=V(a,null===r||void 0===r?void 0:r.dt_txt)}},extraReducers:function(t){t.addCase(Y.pending,(function(t){t.loading=!0})).addCase(Y.fulfilled,(function(t,n){var e,r=n.payload,a=r.weathers,i=r.city;t.loading=!1,t.weathers=a,t.city=i,t.weatherLength=Z(a).length,t.barChartData=V(a,null===(e=a[0])||void 0===e?void 0:e.dt_txt)})).addCase(Y.rejected,(function(t){t.loading=!1,t.error="something went wrong"})).addCase(N.pending,(function(t){t.loading=!0})).addCase(N.fulfilled,(function(t,n){var e,r=n.payload,a=r.weathers,i=r.city;t.loading=!1,t.weathers=a,t.city=i,t.weatherLength=Z(a).length,t.barChartData=V(a,null===(e=a[0])||void 0===e?void 0:e.dt_txt)})).addCase(N.rejected,(function(t){t.loading=!1,t.error="something went wrong"}))}}),X=Q.reducer,$=Q.actions.setWeatherToBarChartsData,tt=function(t){return t.weather},nt=e(2),et=e(3),rt=et.a.div(r||(r=Object(nt.a)(["\n  display: flex;\n  justify-content: center;\n  width: 100%;\n\n  label {\n    color: white;\n    cursor: pointer;\n  }\n\n  @media (max-width: 768px) {\n    justify-content: space-between;\n  }\n"]))),at=et.a.div(a||(a=Object(nt.a)(["\n  padding: 0 10px;\n  &.input_group {\n    margin-right: 15px;\n  }\n"]))),it=et.a.div(i||(i=Object(nt.a)(["\n  border-top: 2px solid #ffffff;\n  border-left: 2px solid #ffffff;\n  width: 12px;\n  height: 12px;\n  transform: translateY(-50%) rotate(-45deg);\n  position: absolute;\n  left: -30px;\n  top: 50%;\n  cursor: pointer;\n\n  @media (max-width: 768px) {\n    left: 10px;\n    top: -50%;\n    z-index: 4;\n    width: 16px;\n    height: 16px;\n  }\n"]))),ct=et.a.div(c||(c=Object(nt.a)(["\n  border-top: 2px solid #ffffff;\n  border-right: 2px solid #ffffff;\n  width: 12px;\n  height: 12px;\n  transform: translateY(-50%) rotate(45deg);\n  position: absolute;\n  right: -30px;\n  top: 50%;\n  cursor: pointer;\n\n  @media (max-width: 768px) {\n    right: 10px;\n    top: -50%;\n    z-index: 4;\n    width: 16px;\n    height: 16px;\n  }\n"]))),ot=et.a.div(o||(o=Object(nt.a)(["\n  background-color: white;\n  border: none;\n  border-radius: 4px;\n  padding: 5px 15px;\n  font-size: 12px;\n  cursor: pointer;\n\n  @media (max-width: 768px) {\n    margin-top: 20px;\n  }\n"]))),dt=e(1),lt=function(t){var n=t.label,e=t.onClick,r=t.className,a=t.testId;return Object(dt.jsx)(ot,{onClick:e,className:r,"data-testid":a,children:n})},st=function(t){var n=t.onChange,e=t.units,r="metric"===e,a="imperial"===e;return Object(dt.jsxs)(rt,{children:[Object(dt.jsxs)(at,{className:"input_group",children:[Object(dt.jsx)("input",{type:"radio",name:"degree",id:"c",onChange:n,value:"metric",checked:r}),Object(dt.jsx)("label",{htmlFor:"c",children:"Celcius"})]}),Object(dt.jsxs)(at,{children:[Object(dt.jsx)("input",{type:"radio",name:"degree",id:"f",onChange:n,value:"imperial",checked:a}),Object(dt.jsx)("label",{htmlFor:"f",children:"Fahrenheit"})]})]})},ut=et.a.div(d||(d=Object(nt.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 10px 0px;\n  width: 100%;\n\n  @media (max-width: 768px) {\n    flex-direction: column;\n\n    &.btn {\n      margin-top: 10px;\n    }\n  }\n"]))),bt=et.a.p(l||(l=Object(nt.a)(["\n  font-size: 12px;\n  color: #999999;\n  margin: 0;\n  margin-top: 3px;\n"]))),ht=et.a.div(s||(s=Object(nt.a)([""]))),jt=et.a.div(u||(u=Object(nt.a)(["\n  display: flex;\n  flex-direction: column;\n  max-width: 480px;\n  width: 100%;\n\n  @media (max-width: 768px) {\n    overflow-x: hidden;\n    padding: 0 10px;\n  }\n"]))),pt=et.a.div(b||(b=Object(nt.a)(["\n  color: white;\n  text-align: center;\n"]))),ft=function(t){var n=t.refreshData,e=t.onChange,r=t.units,a=t.city,i=t.currentLocation;return Object(dt.jsxs)(ht,{children:[Object(dt.jsxs)(ut,{children:[Object(dt.jsx)("div",{}),Object(dt.jsx)(st,{onChange:e,units:r}),Object(dt.jsx)(lt,{label:"Refresh",onClick:n,testId:"refreshBtn"})]}),Object(dt.jsxs)(ut,{children:[Object(dt.jsxs)("div",{children:[Object(dt.jsx)(lt,{label:"Select Current Location",onClick:i,testId:"currentLocationBtn"}),Object(dt.jsx)(bt,{children:"Note: Enable location in your browser"})]}),Object(dt.jsxs)(pt,{children:["Location: ",null===a||void 0===a?void 0:a.name]})]})]})},xt=Object(et.b)(h||(h=Object(nt.a)(["\n  0% {\n    transform: rotate(0deg);\n  }\n\n  100% {\n    transform: rotate(360deg);\n  }\n"]))),gt=et.a.div(j||(j=Object(nt.a)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: rgba(0, 0, 0, 0.95);\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  color: white;\n  z-index: 2;\n\n  p {\n    font-style: italic;\n    font-size: 14px;\n    font-weight: bold;\n  }\n"]))),vt=et.a.div(p||(p=Object(nt.a)(["\n  border: 16px solid #e3e3e3;\n  border-top: 16px solid violet;\n  border-radius: 50%;\n  width: 100px;\n  height: 100px;\n  animation: "," 1s linear infinite;\n"])),xt),Ot=function(){return Object(dt.jsxs)(gt,{children:[Object(dt.jsx)(vt,{}),Object(dt.jsx)("p",{children:"Loading, Please wait..."})]})},mt=function(t){var n=t.onClick,e=t.disabled;t.isMobile;return Object(dt.jsx)(dt.Fragment,{children:e?null:Object(dt.jsx)(ct,{onClick:n})})},wt=function(t){var n=t.onClick,e=t.disabled;t.isMobile;return Object(dt.jsx)(dt.Fragment,{children:e?null:Object(dt.jsx)(it,{onClick:n})})},Ct=et.a.div(f||(f=Object(nt.a)(["\n  display: grid;\n  grid-template-columns: ",";\n  gap: 10px;\n  justify-content: center;\n  position: relative;\n  margin-top: 30px;\n  margin-bottom: 40px;\n"])),(function(t){return t.isMobile?"1fr":"1fr 1fr 1fr"})),yt=et.a.div(x||(x=Object(nt.a)(["\n  padding: 10px 20px;\n  margin: 0 0px;\n  background-color: violet;\n  color: white;\n  border-radius: 4px;\n  box-shadow: 0px 2px 6px rgba(0, 0, 0, 0.15);\n  cursor: pointer;\n"]))),kt=et.a.div(g||(g=Object(nt.a)(["\n  text-align: center;\n  font-size: 18px;\n"]))),Lt=et.a.div(v||(v=Object(nt.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  width: 100%;\n\n  p {\n    font-size: 13px;\n  }\n"]))),Dt=et.a.div(O||(O=Object(nt.a)([""]))),Et=function(t){var n,e=t.weather,r=t.onClick,a="https://openweathermap.org/img/wn/".concat(e.icon,".png"),i=Object(C.useCallback)((function(){return Object(dt.jsx)(dt.Fragment,{children:"metric"===e.units?Object(dt.jsx)("span",{children:"\u2103"}):Object(dt.jsx)("span",{children:"\u2109"})})}),[e]);return Object(dt.jsxs)(yt,{onClick:function(){return r(e)},"data-testid":"weatherCard",children:[Object(dt.jsx)(kt,{children:"Temperature"}),Object(dt.jsxs)(Lt,{children:[Object(dt.jsxs)("p",{children:[e.temperature," ",Object(dt.jsx)(i,{})]}),Object(dt.jsx)("img",{src:a,alt:"icon"})]}),Object(dt.jsx)(Dt,{children:(n=e.dt_txt,U()(n).format("D MMM YYYY"))})]})},_t=et.a.div(m||(m=Object(nt.a)(["\n  text-align: center;\n  width: 100%;\n\n  p {\n    text-align: center;\n    color: white;\n  }\n"]))),St=function(){return Object(dt.jsx)(_t,{"data-testid":"empty",children:Object(dt.jsx)("p",{children:"Sorry there is/are no weathers forcast"})})},Ft=function(t){var n,e=t.weathers,r=t.weatherLength,a=t.loading,i=Object(E.b)(),c=function(){var t=Object(C.useState)([0,0]),n=Object(D.a)(t,2),e=n[0],r=n[1],a=function(){r([document.documentElement.clientWidth,window.innerHeight])};return Object(C.useLayoutEffect)((function(){return window.addEventListener("resize",a),a(),function(){return window.removeEventListener("resize",a)}}),[]),e}(),o=Object(D.a)(c,1)[0]<768,d=Object(C.useState)(0),l=Object(D.a)(d,2),s=l[0],u=l[1],b=o?1:3,h=e.length<=0||s+b===r,j=!s,p=function(t){i($({weather:t,weathers:e}))};return Object(dt.jsxs)(dt.Fragment,{children:[a&&Object(dt.jsx)(Ot,{}),Object(dt.jsxs)(Ct,{isMobile:o||e.length<=0,children:[Object(dt.jsx)(wt,{onClick:function(){return u((function(t){return t-1}))},disabled:j,isMobile:o,"data-testid":"prev"}),e.length<=0?Object(dt.jsx)(St,{}):!a&&(null===(n=Z(e))||void 0===n?void 0:n.slice(s,s+b).map((function(t){return Object(dt.jsx)(Et,{weather:t,onClick:p},null===t||void 0===t?void 0:t.dt)}))),Object(dt.jsx)(mt,{onClick:function(){return u((function(t){return t+1}))},disabled:h,isMobile:o,"data-testid":"next"})]})]})},zt=e(42),Mt=function(t){var n=t.weathers,e=t.barChartData,r=function(t){return{data:q.a.map(t,(function(t){return t.temperature})),label:q.a.map(t,(function(t){return t.time}))}}(e),a={labels:n.length>0?r.label:[],datasets:[{label:"# of Votes",data:n.length>0?r.data:[],backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(153, 102, 255, 0.2)","rgba(255, 159, 64, 0.2)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)"],borderWidth:1}]};return Object(dt.jsx)(zt.a,{data:a,options:{scales:{yAxes:[{ticks:{beginAtZero:!0}}]}},"data-testid":e.length>0?"barchart":null})},Tt=function(t,n,e,r){t(r?N({units:n,coord:{long:e.long,lat:e.lat}}):Y({units:n}))},Pt=function(){var t=Object(E.b)(),n=Object(E.c)(tt),e=n.weathers,r=n.weatherLength,a=n.loading,i=n.barChartData,c=n.city,o=Object(C.useState)("metric"),d=Object(D.a)(o,2),l=d[0],s=d[1],u=Object(C.useState)(!1),b=Object(D.a)(u,2),h=b[0],j=b[1],p=function(){var t=Object(C.useState)([]),n=Object(D.a)(t,2),e=n[0],r=n[1];return Object(C.useEffect)((function(){navigator.geolocation.getCurrentPosition((function(t){r([t.coords.longitude,t.coords.latitude])}))}),[]),e}(),f={long:p[0],lat:p[1]};Object(C.useEffect)((function(){t(Y()),t($({weather:e[0],weathers:e})),j(!1)}),[]);var x=Object(C.useCallback)((function(){return Object(dt.jsx)(Mt,{weathers:e,barChartData:i})}),[i,e]);return Object(dt.jsxs)(jt,{children:[Object(dt.jsx)(ft,{refreshData:function(){Tt(t,l,f,h)},onChange:function(n){var e=n.target.value;s(e),Tt(t,e,f,h)},units:l,city:c,currentLocation:function(){p[0]&&p[1]&&!h&&(j(!0),t(N({units:l,coord:f})))}}),Object(dt.jsx)(Ft,{weathers:e,weatherLength:r,loading:a}),Object(dt.jsx)(x,{})]})},Bt=et.a.div(w||(w=Object(nt.a)(["\n  background-color: #1d3354;\n  height: 100vh;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"])));var It=function(){return Object(dt.jsx)(Bt,{children:Object(dt.jsx)(Pt,{})})},At=function(t){t&&t instanceof Function&&e.e(3).then(e.bind(null,73)).then((function(n){var e=n.getCLS,r=n.getFID,a=n.getFCP,i=n.getLCP,c=n.getTTFB;e(t),r(t),a(t),i(t),c(t)}))},Rt=e(5),Wt=e(41),Yt=e.n(Wt),Nt=e(8),Ht=Object(Nt.b)({weather:X}),Jt=[].concat(Object(Rt.a)(Object(z.d)()),[Yt.a]),qt=Object(z.a)({reducer:Ht,middleware:Jt});e(71);L.a.render(Object(dt.jsx)(y.a.StrictMode,{children:Object(dt.jsx)(E.a,{store:qt,children:Object(dt.jsx)(It,{})})}),document.getElementById("root")),At()}},[[72,1,2]]]);
//# sourceMappingURL=main.e83703f8.chunk.js.map