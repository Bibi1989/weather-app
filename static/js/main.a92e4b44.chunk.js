(this["webpackJsonppayoneer-reactjs"]=this["webpackJsonppayoneer-reactjs"]||[]).push([[0],{70:function(n,t,e){},71:function(n,t,e){"use strict";e.r(t);var r,a,i,o,c,d,l,s,u,b,h,j,p,f,x,g,v,O,m=e(0),w=e.n(m),C=e(19),y=e.n(C),k=e(7),D=e(9),S=e(15),F=e.n(S),L=e(21),_=e(10),E=e(35),z=e.n(E),M=function(){var n=Object(L.a)(F.a.mark((function n(t){var e;return F.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,z.a.get(t);case 3:return e=n.sent,n.abrupt("return",e.data);case 7:throw n.prev=7,n.t0=n.catch(0),n.t0;case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(t){return n.apply(this,arguments)}}(),T=function(n,t){return null===n||void 0===n?void 0:n.map((function(n){var e,r,a,i;return{temperature:null===n||void 0===n||null===(e=n.main)||void 0===e?void 0:e.temp,dt_txt:null===n||void 0===n?void 0:n.dt_txt,time:null===n||void 0===n?void 0:n.dt_txt.split(" ")[1],dt:null===n||void 0===n?void 0:n.dt,icon:null===n||void 0===n||null===(r=n.weather[0])||void 0===r?void 0:r.icon,description:null===n||void 0===n||null===(a=n.weather[0])||void 0===a?void 0:a.description,main:null===n||void 0===n||null===(i=n.weather[0])||void 0===i?void 0:i.main,units:t}}))},B=Object(_.b)("GET_WEATHERS",function(){var n=Object(L.a)(F.a.mark((function n(t){var e,r,a,i,o,c,d,l,s,u,b,h;return F.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=(null===t||void 0===t?void 0:t.units)?t.units:"metric",c=(null===t||void 0===t||null===(e=t.coord)||void 0===e?void 0:e.long)?null===t||void 0===t||null===(r=t.coord)||void 0===r?void 0:r.long:11.576124,d=(null===t||void 0===t||null===(a=t.coord)||void 0===a?void 0:a.lat)?null===t||void 0===t||null===(i=t.coord)||void 0===i?void 0:i.lat:48.137154,n.next=5,M("".concat("https://api.openweathermap.org/data/2.5","/forecast?APPID=").concat("57d9127ea88a9dbbdaf35a286fb7ed49","&cnt=40&units=").concat(o,"&lon=").concat(c,"&lat=").concat(d));case 5:return l=n.sent,s=l.list,u=l.city,b=T(s,o),h=b,n.abrupt("return",{weathers:h,city:u});case 11:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()),P=e(11),W=e(12),A=e.n(W),N=function(n){return new Date(n).getDay()},I=function(n,t){var e=N(t);return A.a.filter(n,(function(n){return N(null===n||void 0===n?void 0:n.dt_txt)===e}))},R=function(n){return A.a.uniqBy(A.a.map(n,(function(n){return Object(P.a)(Object(P.a)({},n),{},{date:J(null===n||void 0===n?void 0:n.dt_txt)})})),"date")},H=function(n){var t=new Date(n).toDateString(),e=t.split(" ")[2],r=t.split(" ")[1],a=t.split(" ")[3];return"".concat(e," ").concat(r," ").concat(a)},J=function(n){return new Date(n).toDateString().split(" ")[2]},Y=Object(_.c)({name:"weather",initialState:{loading:!1,weathers:[],weatherLength:0,error:null,barChartData:[],city:null},reducers:{setWeatherToBarChartsData:function(n,t){var e=t.payload,r=e.weather,a=e.weathers;n.barChartData=I(a,null===r||void 0===r?void 0:r.dt_txt)}},extraReducers:function(n){n.addCase(B.pending,(function(n){n.loading=!0})).addCase(B.fulfilled,(function(n,t){var e,r=t.payload,a=r.weathers,i=r.city;n.loading=!1,n.weathers=a,n.city=i,n.weatherLength=R(a).length,n.barChartData=I(a,null===(e=a[0])||void 0===e?void 0:e.dt_txt)})).addCase(B.rejected,(function(n){n.loading=!1,n.error="something went wrong"}))}}),q=Y.reducer,G=Y.actions.setWeatherToBarChartsData,V=function(n){return n.weather},Z=e(2),K=e(3),Q=K.a.div(r||(r=Object(Z.a)(["\n  display: flex;\n  justify-content: center;\n  width: 100%;\n\n  label {\n    color: white;\n  }\n\n  @media (max-width: 768px) {\n    justify-content: space-between;\n  }\n"]))),U=K.a.div(a||(a=Object(Z.a)(["\n  padding: 0 10px;\n  &.input_group {\n    margin-right: 15px;\n  }\n"]))),X=K.a.div(i||(i=Object(Z.a)(["\n  border-top: 2px solid #ffffff;\n  border-left: 2px solid #ffffff;\n  width: 20px;\n  height: 20px;\n  transform: translateY(-50%) rotate(-45deg);\n  position: absolute;\n  left: -30px;\n  top: 50%;\n  cursor: pointer;\n\n  @media (max-width: 768px) {\n    left: 10px;\n    top: -50%;\n    z-index: 4;\n    width: 16px;\n    height: 16px;\n  }\n"]))),$=K.a.div(o||(o=Object(Z.a)(["\n  border-top: 2px solid #ffffff;\n  border-right: 2px solid #ffffff;\n  width: 20px;\n  height: 20px;\n  transform: translateY(-50%) rotate(45deg);\n  position: absolute;\n  right: -30px;\n  top: 50%;\n  cursor: pointer;\n\n  @media (max-width: 768px) {\n    right: 10px;\n    top: -50%;\n    z-index: 4;\n    width: 16px;\n    height: 16px;\n  }\n"]))),nn=K.a.div(c||(c=Object(Z.a)(["\n  background-color: white;\n  border: none;\n  border-radius: 4px;\n  padding: 5px 15px;\n  cursor: pointer;\n\n  @media (max-width: 768px) {\n    margin-top: 20px;\n  }\n"]))),tn=e(1),en=function(n){var t=n.label,e=n.onClick,r=n.className;return Object(tn.jsx)(nn,{onClick:e,className:r,"data-testid":"refreshBtn",children:t})},rn=function(n){var t=n.onChange,e=n.units,r="metric"===e,a="imperial"===e;return Object(tn.jsxs)(Q,{children:[Object(tn.jsxs)(U,{className:"input_group",children:[Object(tn.jsx)("input",{type:"radio",name:"degree",id:"c",onChange:t,value:"metric",checked:r}),Object(tn.jsx)("label",{htmlFor:"c",children:"Celcius"})]}),Object(tn.jsxs)(U,{children:[Object(tn.jsx)("input",{type:"radio",name:"degree",id:"f",onChange:t,value:"imperial",checked:a}),Object(tn.jsx)("label",{htmlFor:"f",children:"Fahrenheit"})]})]})},an=K.a.div(d||(d=Object(Z.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 10px 5px;\n  width: 100%;\n\n  @media (max-width: 768px) {\n    flex-direction: column;\n\n    &.btn {\n      margin-top: 10px;\n    }\n  }\n"]))),on=function(n){var t=n.refreshData,e=n.onChange,r=n.units;return Object(tn.jsxs)(an,{children:[Object(tn.jsx)("div",{}),Object(tn.jsx)(rn,{onChange:e,units:r}),Object(tn.jsx)(en,{label:"Refresh",onClick:t,className:"btn"})]})},cn=Object(K.b)(l||(l=Object(Z.a)(["\n  0% {\n    transform: rotate(0deg);\n  }\n\n  100% {\n    transform: rotate(360deg);\n  }\n"]))),dn=K.a.div(s||(s=Object(Z.a)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: rgba(0, 0, 0, 0.95);\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  color: white;\n  z-index: 2;\n\n  p {\n    font-style: italic;\n    font-size: 14px;\n    font-weight: bold;\n  }\n"]))),ln=K.a.div(u||(u=Object(Z.a)(["\n  border: 16px solid #e3e3e3;\n  border-top: 16px solid violet;\n  border-radius: 50%;\n  width: 100px;\n  height: 100px;\n  animation: "," 1s linear infinite;\n"])),cn),sn=function(){return Object(tn.jsxs)(dn,{children:[Object(tn.jsx)(ln,{}),Object(tn.jsx)("p",{children:"Loading, Please wait..."})]})},un=function(n){var t=n.onClick,e=n.disabled;n.isMobile;return Object(tn.jsx)(tn.Fragment,{children:e?null:Object(tn.jsx)($,{onClick:t})})},bn=function(n){var t=n.onClick,e=n.disabled;n.isMobile;return Object(tn.jsx)(tn.Fragment,{children:e?null:Object(tn.jsx)(X,{onClick:t})})},hn=K.a.div(b||(b=Object(Z.a)(["\n  display: grid;\n  grid-template-columns: ",";\n  gap: 5px;\n  justify-content: center;\n  position: relative;\n  margin-top: 30px;\n  margin-bottom: 40px;\n"])),(function(n){return n.isMobile?"1fr":"1fr 1fr 1fr"})),jn=K.a.div(h||(h=Object(Z.a)(["\n  padding: 10px 20px;\n  margin: 0 5px;\n  background-color: violet;\n  color: white;\n  border-radius: 4px;\n  box-shadow: 0px 2px 6px rgba(0, 0, 0, 0.15);\n  cursor: pointer;\n"]))),pn=K.a.div(j||(j=Object(Z.a)(["\n  text-align: center;\n  font-size: 18px;\n"]))),fn=K.a.div(p||(p=Object(Z.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  width: 100%;\n\n  p {\n    font-size: 13px;\n  }\n"]))),xn=K.a.div(f||(f=Object(Z.a)([""]))),gn=function(n){var t=n.weather,e=n.onClick,r="http://openweathermap.org/img/wn/".concat(t.icon,".png"),a=Object(m.useCallback)((function(){return Object(tn.jsx)(tn.Fragment,{children:"metric"===t.units?Object(tn.jsx)("span",{children:"\u2103"}):Object(tn.jsx)("span",{children:"\u2109"})})}),[t]);return Object(tn.jsxs)(jn,{onClick:function(){return e(t)},"data-testid":"weatherCard",children:[Object(tn.jsx)(pn,{children:"Temperature"}),Object(tn.jsxs)(fn,{children:[Object(tn.jsxs)("p",{children:[t.temperature," ",Object(tn.jsx)(a,{})]}),Object(tn.jsx)("img",{src:r,alt:"icon"})]}),Object(tn.jsx)(xn,{children:H(null===t||void 0===t?void 0:t.dt_txt)})]})},vn=K.a.div(x||(x=Object(Z.a)(["\n  text-align: center;\n  width: 100%;\n\n  p {\n    text-align: center;\n    color: white;\n  }\n"]))),On=function(){return Object(tn.jsx)(vn,{"data-testid":"empty",children:Object(tn.jsx)("p",{children:"Sorry there is/are no weathers forcast"})})},mn=function(n){var t,e=n.weathers,r=n.weatherLength,a=n.loading,i=Object(D.b)(),o=function(){var n=Object(m.useState)([0,0]),t=Object(k.a)(n,2),e=t[0],r=t[1],a=function(){r([document.documentElement.clientWidth,window.innerHeight])};return Object(m.useLayoutEffect)((function(){return window.addEventListener("resize",a),a(),function(){return window.removeEventListener("resize",a)}}),[]),e}(),c=Object(k.a)(o,1)[0]<768,d=Object(m.useState)(0),l=Object(k.a)(d,2),s=l[0],u=l[1],b=c?1:3,h=e.length<=0||s+b===r,j=!s,p=function(n){i(G({weather:n,weathers:e}))};return Object(tn.jsxs)(tn.Fragment,{children:[a&&Object(tn.jsx)(sn,{}),Object(tn.jsxs)(hn,{isMobile:c||e.length<=0,children:[Object(tn.jsx)(bn,{onClick:function(){return u((function(n){return n-1}))},disabled:j,isMobile:c,"data-testid":"prev"}),e.length<=0?Object(tn.jsx)(On,{}):!a&&(null===(t=R(e))||void 0===t?void 0:t.slice(s,s+b).map((function(n){return Object(tn.jsx)(gn,{weather:n,onClick:p},null===n||void 0===n?void 0:n.dt)}))),Object(tn.jsx)(un,{onClick:function(){return u((function(n){return n+1}))},disabled:h,isMobile:c,"data-testid":"next"})]})]})},wn=e(40),Cn=function(n){var t=n.weathers,e=n.barChartData,r=function(n){return{data:A.a.map(n,(function(n){return n.temperature})),label:A.a.map(n,(function(n){return n.time}))}}(e),a={labels:t.length>0?r.label:[],datasets:[{label:"# of Votes",data:t.length>0?r.data:[],backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(153, 102, 255, 0.2)","rgba(255, 159, 64, 0.2)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)"],borderWidth:1}]};return Object(tn.jsx)(wn.a,{data:a,options:{scales:{yAxes:[{ticks:{beginAtZero:!0}}]}},"data-testid":e.length>0?"barchart":null})},yn=K.a.div(g||(g=Object(Z.a)(["\n  display: flex;\n  flex-direction: column;\n  max-width: 480px;\n  width: 100%;\n\n  @media (max-width: 768px) {\n    overflow-x: hidden;\n    padding: 0 10px;\n  }\n"]))),kn=K.a.div(v||(v=Object(Z.a)(["\n  color: white;\n  text-align: center;\n"]))),Dn=function(){var n=Object(D.b)(),t=Object(D.c)(V),e=t.weathers,r=t.weatherLength,a=t.loading,i=t.barChartData,o=t.city,c=Object(m.useState)("metric"),d=Object(k.a)(c,2),l=d[0],s=d[1],u=Object(m.useState)(!0),b=Object(k.a)(u,2),h=b[0],j=b[1],p=function(){var n=Object(m.useState)([]),t=Object(k.a)(n,2),e=t[0],r=t[1];return Object(m.useEffect)((function(){navigator.geolocation.getCurrentPosition((function(n){r([n.coords.longitude,n.coords.latitude])}))}),[]),e}();Object(m.useEffect)((function(){p[0]&&p[1]&&(n(B({coord:{long:p[0],lat:p[1]}})),n(G({weather:e[0],weathers:e})),j(!1))}),[p[0],p[1],h]);var f=Object(m.useCallback)((function(){return Object(tn.jsx)(Cn,{weathers:e,barChartData:i})}),[i,e]);return Object(tn.jsxs)(yn,{children:[Object(tn.jsx)(on,{refreshData:function(){n(B({units:l,coord:{long:p[0],lat:p[1]}}))},onChange:function(t){var e=t.target.value;s(e),n(B({units:e,coord:{long:p[0],lat:p[1]}}))},units:l}),Object(tn.jsx)(kn,{children:null===o||void 0===o?void 0:o.name}),Object(tn.jsx)(mn,{weathers:e,weatherLength:r,loading:a||h}),Object(tn.jsx)(f,{})]})},Sn=K.a.div(O||(O=Object(Z.a)(["\n  background-color: #1d3354;\n  height: 100vh;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"])));var Fn=function(){return Object(tn.jsx)(Sn,{children:Object(tn.jsx)(Dn,{})})},Ln=function(n){n&&n instanceof Function&&e.e(3).then(e.bind(null,72)).then((function(t){var e=t.getCLS,r=t.getFID,a=t.getFCP,i=t.getLCP,o=t.getTTFB;e(n),r(n),a(n),i(n),o(n)}))},_n=e(5),En=e(39),zn=e.n(En),Mn=e(8),Tn=Object(Mn.b)({weather:q}),Bn=[].concat(Object(_n.a)(Object(_.d)()),[zn.a]),Pn=Object(_.a)({reducer:Tn,middleware:Bn});e(70);y.a.render(Object(tn.jsx)(w.a.StrictMode,{children:Object(tn.jsx)(D.a,{store:Pn,children:Object(tn.jsx)(Fn,{})})}),document.getElementById("root")),Ln()}},[[71,1,2]]]);
//# sourceMappingURL=main.a92e4b44.chunk.js.map