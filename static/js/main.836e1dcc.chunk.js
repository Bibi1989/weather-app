(this["webpackJsonppayoneer-reactjs"]=this["webpackJsonppayoneer-reactjs"]||[]).push([[0],{71:function(t,n,e){},72:function(t,n,e){"use strict";e.r(n);var r,a,i,c,o,d,l,s,u,b,h,j,p,f,x,g,v,O,m,w=e(0),C=e.n(w),y=e(20),k=e.n(y),L=e(7),D=e(9),E=e(11),_=e.n(E),S=e(17),F=e(10),M=e(36),z=e.n(M),T=function(){var t=Object(S.a)(_.a.mark((function t(n){var e;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,z.a.get(n);case 3:return e=t.sent,t.abrupt("return",e.data);case 7:throw t.prev=7,t.t0=t.catch(0),t.t0;case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(n){return t.apply(this,arguments)}}(),P=11.576124,B=48.137154,I=function(t,n){return null===t||void 0===t?void 0:t.map((function(t){var e,r,a,i;return{temperature:null===t||void 0===t||null===(e=t.main)||void 0===e?void 0:e.temp,dt_txt:null===t||void 0===t?void 0:t.dt_txt,time:null===t||void 0===t?void 0:t.dt_txt.split(" ")[1],dt:null===t||void 0===t?void 0:t.dt,icon:null===t||void 0===t||null===(r=t.weather[0])||void 0===r?void 0:r.icon,description:null===t||void 0===t||null===(a=t.weather[0])||void 0===a?void 0:a.description,main:null===t||void 0===t||null===(i=t.weather[0])||void 0===i?void 0:i.main,units:n}}))},A="https://api.openweathermap.org/data/2.5",R="57d9127ea88a9dbbdaf35a286fb7ed49",W=Object(F.b)("GET_WEATHERS",function(){var t=Object(S.a)(_.a.mark((function t(n){var e,r,a,i,c,o;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=(null===n||void 0===n?void 0:n.units)?n.units:"metric",t.next=3,T("".concat(A,"/forecast?APPID=").concat(R,"&cnt=40&units=").concat(e,"&lon=").concat(P,"&lat=").concat(B));case 3:return r=t.sent,a=r.list,i=r.city,c=I(a,e),o=c,t.abrupt("return",{weathers:o,city:i});case 9:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}()),Y=Object(F.b)("CURRENT_WEATHERS",function(){var t=Object(S.a)(_.a.mark((function t(n){var e,r,a,i,c,o,d,l,s,u,b,h;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=(null===n||void 0===n?void 0:n.units)?n.units:"metric",o=(null===n||void 0===n||null===(e=n.coord)||void 0===e?void 0:e.long)?null===n||void 0===n||null===(r=n.coord)||void 0===r?void 0:r.long:P,d=(null===n||void 0===n||null===(a=n.coord)||void 0===a?void 0:a.lat)?null===n||void 0===n||null===(i=n.coord)||void 0===i?void 0:i.lat:B,t.next=5,T("".concat(A,"/forecast?APPID=").concat(R,"&cnt=40&units=").concat(c,"&lon=").concat(o,"&lat=").concat(d));case 5:return l=t.sent,s=l.list,u=l.city,b=I(s,c),h=b,t.abrupt("return",{weathers:h,city:u});case 11:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}()),N=e(12),H=e(13),J=e.n(H),q=e(37),G=e.n(q),U=function(t,n){var e=n;return J.a.filter(t,(function(t){return Z(null===t||void 0===t?void 0:t.dt_txt)===Z(e)}))},V=function(t){return J.a.uniqBy(J.a.map(t,(function(t){return Object(N.a)(Object(N.a)({},t),{},{date:Z(null===t||void 0===t?void 0:t.dt_txt)})})),"date")},Z=function(t){return t.split(" ")[0]},K=Object(F.c)({name:"weather",initialState:{loading:!1,weathers:[],weatherLength:0,error:null,barChartData:[],city:null},reducers:{setWeatherToBarChartsData:function(t,n){var e=n.payload,r=e.weather,a=e.weathers;t.barChartData=U(a,null===r||void 0===r?void 0:r.dt_txt)}},extraReducers:function(t){t.addCase(W.pending,(function(t){t.loading=!0})).addCase(W.fulfilled,(function(t,n){var e,r=n.payload,a=r.weathers,i=r.city;t.loading=!1,t.weathers=a,t.city=i,t.weatherLength=V(a).length,t.barChartData=U(a,null===(e=a[0])||void 0===e?void 0:e.dt_txt)})).addCase(W.rejected,(function(t){t.loading=!1,t.error="something went wrong"})).addCase(Y.pending,(function(t){t.loading=!0})).addCase(Y.fulfilled,(function(t,n){var e,r=n.payload,a=r.weathers,i=r.city;t.loading=!1,t.weathers=a,t.city=i,t.weatherLength=V(a).length,t.barChartData=U(a,null===(e=a[0])||void 0===e?void 0:e.dt_txt)})).addCase(Y.rejected,(function(t){t.loading=!1,t.error="something went wrong"}))}}),Q=K.reducer,X=K.actions.setWeatherToBarChartsData,$=function(t){return t.weather},tt=e(2),nt=e(3),et=nt.a.div(r||(r=Object(tt.a)(["\n  display: flex;\n  justify-content: center;\n  width: 100%;\n\n  label {\n    color: white;\n  }\n\n  @media (max-width: 768px) {\n    justify-content: space-between;\n  }\n"]))),rt=nt.a.div(a||(a=Object(tt.a)(["\n  padding: 0 10px;\n  &.input_group {\n    margin-right: 15px;\n  }\n"]))),at=nt.a.div(i||(i=Object(tt.a)(["\n  border-top: 2px solid #ffffff;\n  border-left: 2px solid #ffffff;\n  width: 12px;\n  height: 12px;\n  transform: translateY(-50%) rotate(-45deg);\n  position: absolute;\n  left: -30px;\n  top: 50%;\n  cursor: pointer;\n\n  @media (max-width: 768px) {\n    left: 10px;\n    top: -50%;\n    z-index: 4;\n    width: 16px;\n    height: 16px;\n  }\n"]))),it=nt.a.div(c||(c=Object(tt.a)(["\n  border-top: 2px solid #ffffff;\n  border-right: 2px solid #ffffff;\n  width: 12px;\n  height: 12px;\n  transform: translateY(-50%) rotate(45deg);\n  position: absolute;\n  right: -30px;\n  top: 50%;\n  cursor: pointer;\n\n  @media (max-width: 768px) {\n    right: 10px;\n    top: -50%;\n    z-index: 4;\n    width: 16px;\n    height: 16px;\n  }\n"]))),ct=nt.a.div(o||(o=Object(tt.a)(["\n  background-color: white;\n  border: none;\n  border-radius: 4px;\n  padding: 5px 15px;\n  font-size: 12px;\n  cursor: pointer;\n\n  @media (max-width: 768px) {\n    margin-top: 20px;\n  }\n"]))),ot=e(1),dt=function(t){var n=t.label,e=t.onClick,r=t.className,a=t.testId;return Object(ot.jsx)(ct,{onClick:e,className:r,"data-testid":a,children:n})},lt=function(t){var n=t.onChange,e=t.units,r="metric"===e,a="imperial"===e;return Object(ot.jsxs)(et,{children:[Object(ot.jsxs)(rt,{className:"input_group",children:[Object(ot.jsx)("input",{type:"radio",name:"degree",id:"c",onChange:n,value:"metric",checked:r}),Object(ot.jsx)("label",{htmlFor:"c",children:"Celcius"})]}),Object(ot.jsxs)(rt,{children:[Object(ot.jsx)("input",{type:"radio",name:"degree",id:"f",onChange:n,value:"imperial",checked:a}),Object(ot.jsx)("label",{htmlFor:"f",children:"Fahrenheit"})]})]})},st=nt.a.div(d||(d=Object(tt.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 10px 0px;\n  width: 100%;\n\n  @media (max-width: 768px) {\n    flex-direction: column;\n\n    &.btn {\n      margin-top: 10px;\n    }\n  }\n"]))),ut=nt.a.div(l||(l=Object(tt.a)([""]))),bt=nt.a.div(s||(s=Object(tt.a)(["\n  display: flex;\n  flex-direction: column;\n  max-width: 480px;\n  width: 100%;\n\n  @media (max-width: 768px) {\n    overflow-x: hidden;\n    padding: 0 10px;\n  }\n"]))),ht=nt.a.div(u||(u=Object(tt.a)(["\n  color: white;\n  text-align: center;\n"]))),jt=function(t){var n=t.refreshData,e=t.onChange,r=t.units,a=t.city,i=t.currentLocation;return Object(ot.jsxs)(ut,{children:[Object(ot.jsxs)(st,{children:[Object(ot.jsx)("div",{}),Object(ot.jsx)(lt,{onChange:e,units:r}),Object(ot.jsx)(dt,{label:"Refresh",onClick:n,testId:"refreshBtn"})]}),Object(ot.jsxs)(st,{children:[Object(ot.jsx)(dt,{label:"Select Current Location",onClick:i,testId:"currentLocationBtn"}),Object(ot.jsxs)(ht,{children:["Location: ",null===a||void 0===a?void 0:a.name]})]})]})},pt=Object(nt.b)(b||(b=Object(tt.a)(["\n  0% {\n    transform: rotate(0deg);\n  }\n\n  100% {\n    transform: rotate(360deg);\n  }\n"]))),ft=nt.a.div(h||(h=Object(tt.a)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: rgba(0, 0, 0, 0.95);\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  color: white;\n  z-index: 2;\n\n  p {\n    font-style: italic;\n    font-size: 14px;\n    font-weight: bold;\n  }\n"]))),xt=nt.a.div(j||(j=Object(tt.a)(["\n  border: 16px solid #e3e3e3;\n  border-top: 16px solid violet;\n  border-radius: 50%;\n  width: 100px;\n  height: 100px;\n  animation: "," 1s linear infinite;\n"])),pt),gt=function(){return Object(ot.jsxs)(ft,{children:[Object(ot.jsx)(xt,{}),Object(ot.jsx)("p",{children:"Loading, Please wait..."})]})},vt=function(t){var n=t.onClick,e=t.disabled;t.isMobile;return Object(ot.jsx)(ot.Fragment,{children:e?null:Object(ot.jsx)(it,{onClick:n})})},Ot=function(t){var n=t.onClick,e=t.disabled;t.isMobile;return Object(ot.jsx)(ot.Fragment,{children:e?null:Object(ot.jsx)(at,{onClick:n})})},mt=nt.a.div(p||(p=Object(tt.a)(["\n  display: grid;\n  grid-template-columns: ",";\n  gap: 10px;\n  justify-content: center;\n  position: relative;\n  margin-top: 30px;\n  margin-bottom: 40px;\n"])),(function(t){return t.isMobile?"1fr":"1fr 1fr 1fr"})),wt=nt.a.div(f||(f=Object(tt.a)(["\n  padding: 10px 20px;\n  margin: 0 0px;\n  background-color: violet;\n  color: white;\n  border-radius: 4px;\n  box-shadow: 0px 2px 6px rgba(0, 0, 0, 0.15);\n  cursor: pointer;\n"]))),Ct=nt.a.div(x||(x=Object(tt.a)(["\n  text-align: center;\n  font-size: 18px;\n"]))),yt=nt.a.div(g||(g=Object(tt.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  width: 100%;\n\n  p {\n    font-size: 13px;\n  }\n"]))),kt=nt.a.div(v||(v=Object(tt.a)([""]))),Lt=function(t){var n,e=t.weather,r=t.onClick,a="https://openweathermap.org/img/wn/".concat(e.icon,".png"),i=Object(w.useCallback)((function(){return Object(ot.jsx)(ot.Fragment,{children:"metric"===e.units?Object(ot.jsx)("span",{children:"\u2103"}):Object(ot.jsx)("span",{children:"\u2109"})})}),[e]);return Object(ot.jsxs)(wt,{onClick:function(){return r(e)},"data-testid":"weatherCard",children:[Object(ot.jsx)(Ct,{children:"Temperature"}),Object(ot.jsxs)(yt,{children:[Object(ot.jsxs)("p",{children:[e.temperature," ",Object(ot.jsx)(i,{})]}),Object(ot.jsx)("img",{src:a,alt:"icon"})]}),Object(ot.jsx)(kt,{children:(n=e.dt_txt,G()(n).format("D MMM YYYY"))})]})},Dt=nt.a.div(O||(O=Object(tt.a)(["\n  text-align: center;\n  width: 100%;\n\n  p {\n    text-align: center;\n    color: white;\n  }\n"]))),Et=function(){return Object(ot.jsx)(Dt,{"data-testid":"empty",children:Object(ot.jsx)("p",{children:"Sorry there is/are no weathers forcast"})})},_t=function(t){var n,e=t.weathers,r=t.weatherLength,a=t.loading,i=Object(D.b)(),c=function(){var t=Object(w.useState)([0,0]),n=Object(L.a)(t,2),e=n[0],r=n[1],a=function(){r([document.documentElement.clientWidth,window.innerHeight])};return Object(w.useLayoutEffect)((function(){return window.addEventListener("resize",a),a(),function(){return window.removeEventListener("resize",a)}}),[]),e}(),o=Object(L.a)(c,1)[0]<768,d=Object(w.useState)(0),l=Object(L.a)(d,2),s=l[0],u=l[1],b=o?1:3,h=e.length<=0||s+b===r,j=!s,p=function(t){i(X({weather:t,weathers:e}))};return Object(ot.jsxs)(ot.Fragment,{children:[a&&Object(ot.jsx)(gt,{}),Object(ot.jsxs)(mt,{isMobile:o||e.length<=0,children:[Object(ot.jsx)(Ot,{onClick:function(){return u((function(t){return t-1}))},disabled:j,isMobile:o,"data-testid":"prev"}),e.length<=0?Object(ot.jsx)(Et,{}):!a&&(null===(n=V(e))||void 0===n?void 0:n.slice(s,s+b).map((function(t){return Object(ot.jsx)(Lt,{weather:t,onClick:p},null===t||void 0===t?void 0:t.dt)}))),Object(ot.jsx)(vt,{onClick:function(){return u((function(t){return t+1}))},disabled:h,isMobile:o,"data-testid":"next"})]})]})},St=e(42),Ft=function(t){var n=t.weathers,e=t.barChartData,r=function(t){return{data:J.a.map(t,(function(t){return t.temperature})),label:J.a.map(t,(function(t){return t.time}))}}(e),a={labels:n.length>0?r.label:[],datasets:[{label:"# of Votes",data:n.length>0?r.data:[],backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(153, 102, 255, 0.2)","rgba(255, 159, 64, 0.2)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)"],borderWidth:1}]};return Object(ot.jsx)(St.a,{data:a,options:{scales:{yAxes:[{ticks:{beginAtZero:!0}}]}},"data-testid":e.length>0?"barchart":null})},Mt=function(t,n,e,r){t(r?Y({units:n,coord:{long:e.long,lat:e.lat}}):W({units:n}))},zt=function(){var t=Object(D.b)(),n=Object(D.c)($),e=n.weathers,r=n.weatherLength,a=n.loading,i=n.barChartData,c=n.city,o=Object(w.useState)("metric"),d=Object(L.a)(o,2),l=d[0],s=d[1],u=Object(w.useState)(!1),b=Object(L.a)(u,2),h=b[0],j=b[1],p=function(){var t=Object(w.useState)([]),n=Object(L.a)(t,2),e=n[0],r=n[1];return Object(w.useEffect)((function(){navigator.geolocation.getCurrentPosition((function(t){r([t.coords.longitude,t.coords.latitude])}))}),[]),e}(),f={long:p[0],lat:p[1]};Object(w.useEffect)((function(){t(W()),t(X({weather:e[0],weathers:e})),j(!1)}),[]);var x=Object(w.useCallback)((function(){return Object(ot.jsx)(Ft,{weathers:e,barChartData:i})}),[i,e]);return Object(ot.jsxs)(bt,{children:[Object(ot.jsx)(jt,{refreshData:function(){Mt(t,l,f,h)},onChange:function(n){var e=n.target.value;s(e),Mt(t,e,f,h)},units:l,city:c,currentLocation:function(){p[0]&&p[1]&&!h&&(j(!0),t(Y({units:l,coord:f})))}}),Object(ot.jsx)(_t,{weathers:e,weatherLength:r,loading:a}),Object(ot.jsx)(x,{})]})},Tt=nt.a.div(m||(m=Object(tt.a)(["\n  background-color: #1d3354;\n  height: 100vh;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"])));var Pt=function(){return Object(ot.jsx)(Tt,{children:Object(ot.jsx)(zt,{})})},Bt=function(t){t&&t instanceof Function&&e.e(3).then(e.bind(null,73)).then((function(n){var e=n.getCLS,r=n.getFID,a=n.getFCP,i=n.getLCP,c=n.getTTFB;e(t),r(t),a(t),i(t),c(t)}))},It=e(5),At=e(41),Rt=e.n(At),Wt=e(8),Yt=Object(Wt.b)({weather:Q}),Nt=[].concat(Object(It.a)(Object(F.d)()),[Rt.a]),Ht=Object(F.a)({reducer:Yt,middleware:Nt});e(71);k.a.render(Object(ot.jsx)(C.a.StrictMode,{children:Object(ot.jsx)(D.a,{store:Ht,children:Object(ot.jsx)(Pt,{})})}),document.getElementById("root")),Bt()}},[[72,1,2]]]);
//# sourceMappingURL=main.836e1dcc.chunk.js.map